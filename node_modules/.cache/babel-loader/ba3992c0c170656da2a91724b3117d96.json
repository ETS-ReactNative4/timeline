{"ast":null,"code":"import _classCallCheck from \"/Users/aylafernandes/Desktop/timeline/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/aylafernandes/Desktop/timeline/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/aylafernandes/Desktop/timeline/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/aylafernandes/Desktop/timeline/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/aylafernandes/Desktop/timeline/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/aylafernandes/Desktop/timeline/src/components/layouts/EventCard.js\";\nimport React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport moment from 'moment';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Collapse from '@material-ui/core/Collapse';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport blue from '@material-ui/core/colors/blue';\nimport red from '@material-ui/core/colors/red';\nimport purple from '@material-ui/core/colors/purple';\nimport ConfirmationDialogRaw from './ConfirmationDialogRaw';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport SimpleExpansionPanel from './cardDetails/cardDetails';\nimport { Menu, MenuItem } from '@material-ui/core';\n\nvar styles = function styles(theme) {\n  return {\n    card: {\n      width: '100%',\n      marginTop: theme.spacing.unit\n    },\n    media: {\n      height: 0,\n      paddingTop: '56.25%' // 16:9\n\n    },\n    blueAvatar: {\n      margin: 10,\n      backgroundColor: blue[800]\n    },\n    cardFuncionariosEnvolvidos: {\n      display: 'flex'\n    },\n    tipoEvento: {\n      display: 'flex'\n    },\n    tipoEventoColor1: {\n      margin: '10px 10px 0px 10px',\n      padding: 10,\n      backgroundColor: red[800]\n    },\n    tipoEventoColor2: {\n      margin: '10px 10px 0px 10px',\n      padding: 10,\n      backgroundColor: purple[800]\n    },\n    tipoEventoColorBlue: {\n      margin: '10px 10px 0px 10px',\n      padding: 10,\n      backgroundColor: blue[800]\n    },\n    tipoEventoTitle: {\n      marginTop: 13\n    },\n    cardHeader: {\n      margin: '0px 16px 0px 0px',\n      padding: 8\n    },\n    smallAvatar: {\n      width: 25,\n      height: 25,\n      margin: 5\n    }\n  };\n};\n\nvar EventCard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(EventCard, _React$Component);\n\n  function EventCard(props) {\n    var _this;\n\n    _classCallCheck(this, EventCard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EventCard).call(this, props));\n\n    _this.handleExpandClick = function () {\n      _this.setState(function (state) {\n        return {\n          expanded: !state.expanded\n        };\n      });\n    };\n\n    _this.handleClick = function (event) {\n      _this.setState({\n        anchorEl: event.currentTarget\n      });\n    };\n\n    _this.handleOpenDialogExcluir = function () {\n      _this.setState({\n        open: !_this.state.open\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        anchorEl: null\n      });\n    };\n\n    _this.handleOpen = function () {\n      var _this$props = _this.props,\n          evento = _this$props.evento,\n          setEvento = _this$props.setEvento,\n          myCallbackOpenDialog = _this$props.myCallbackOpenDialog;\n      myCallbackOpenDialog(true);\n      setEvento(evento);\n    };\n\n    _this.excluir = function (event) {\n      event.preventDefault();\n      var _this$props2 = _this.props,\n          evento = _this$props2.evento,\n          empresa = _this$props2.empresa;\n      evento.dt_delete = new Date();\n      var data = {\n        evento: evento,\n        empresa: empresa\n      };\n      fetch(\"https://uce.intranet.bb.com.br/api-timeline/v1/eventos\", {\n        method: \"PUT\",\n        body: JSON.stringify(data),\n        headers: {\n          \"x-access-token\": window.sessionStorage.token,\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json'\n        }\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this.props.getEventos(empresa);\n      }).then(_this.handleExpandClick()).catch(function (err) {\n        console.error(err);\n      });\n    };\n\n    _this.state = {\n      anchorEl: null,\n      expanded: false,\n      open: false\n    };\n    _this.excluir = _this.excluir.bind();\n    return _this;\n  }\n\n  _createClass(EventCard, [{\n    key: \"render\",\n    value: function render() {\n      var anchorEl = this.state.anchorEl;\n      var _this$props3 = this.props,\n          classes = _this$props3.classes,\n          evento = _this$props3.evento;\n      var open = Boolean(anchorEl);\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: classes.card,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.tipoEvento,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.tipoEventoColor1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, \" \"), React.createElement(Typography, {\n        variant: \"caption\",\n        className: classes.tipoEventoTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, evento.tipo_envolvimento_descricao)), React.createElement(CardHeader, {\n        className: classes.cardHeader\n        /*  avatar={\r\n            <Avatar className={classes.blueAvatar} src={src} >\r\n              UCE\r\n            </Avatar>\r\n          }*/\n        ,\n        action: React.createElement(IconButton, {\n          \"aria-label\": \"More\",\n          \"aria-owns\": open ? 'long-menu' : undefined,\n          \"aria-haspopup\": \"true\",\n          onClick: this.handleClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, React.createElement(MoreVertIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        })),\n        title: evento.empresas ? evento.empresas[0].nome : '',\n        subheader: moment(evento.dt_evento).locale('pt-BR').format('LLLL'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        component: \"p\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, evento.descricao), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.cardFuncionariosEnvolvidos,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, evento.funcionarios ? evento.funcionarios.map(function (funci) {\n        return React.createElement(Avatar, {\n          key: funci.chave,\n          className: classes.smallAvatar,\n          src: \"https://humanograma.intranet.bb.com.br/avatar/\".concat(funci.chave),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        });\n      }) : ''), React.createElement(\"div\", {\n        className: classes.cardFuncionariosEnvolvidos,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"caption\",\n        className: classes.tipoEventoTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, \"Depend\\xEAncias:  \", evento.dependencias ? evento.dependencias.map(function (dep) {\n        return \" \".concat(dep.prefixo, \", \");\n      }) : '')))), React.createElement(CardActions, {\n        className: classes.actions,\n        disableActionSpacing: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(SimpleExpansionPanel, {\n        evento: evento,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      })), React.createElement(Collapse, {\n        in: this.state.expanded,\n        timeout: \"auto\",\n        unmountOnExit: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(CardContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }))), React.createElement(Menu, {\n        id: \"long-menu\",\n        anchorEl: anchorEl,\n        open: open,\n        onClose: this.handleClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(MenuItem, {\n        onClick: this.handleOpen,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, \"Editar\"), React.createElement(MenuItem, {\n        onClick: this.handleOpenDialogExcluir,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, \"Excluir\")), React.createElement(ConfirmationDialogRaw, {\n        classes: {\n          paper: classes.paper\n        },\n        handleOpenDialogExcluir: this.handleOpenDialogExcluir,\n        excluir: this.excluir,\n        open: this.state.open,\n        value: this.props.evento,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return EventCard;\n}(React.Component);\n\nEventCard.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(EventCard);","map":{"version":3,"sources":["/Users/aylafernandes/Desktop/timeline/src/components/layouts/EventCard.js"],"names":["React","Fragment","PropTypes","withStyles","Card","CardHeader","moment","CardContent","CardActions","Collapse","Avatar","IconButton","Typography","blue","red","purple","ConfirmationDialogRaw","MoreVertIcon","SimpleExpansionPanel","Menu","MenuItem","styles","theme","card","width","marginTop","spacing","unit","media","height","paddingTop","blueAvatar","margin","backgroundColor","cardFuncionariosEnvolvidos","display","tipoEvento","tipoEventoColor1","padding","tipoEventoColor2","tipoEventoColorBlue","tipoEventoTitle","cardHeader","smallAvatar","EventCard","props","handleExpandClick","setState","state","expanded","handleClick","event","anchorEl","currentTarget","handleOpenDialogExcluir","open","handleClose","handleOpen","evento","setEvento","myCallbackOpenDialog","excluir","preventDefault","empresa","dt_delete","Date","data","fetch","method","body","JSON","stringify","headers","window","sessionStorage","token","then","response","json","getEventos","catch","err","console","error","bind","classes","Boolean","tipo_envolvimento_descricao","undefined","empresas","nome","dt_evento","locale","format","descricao","funcionarios","map","funci","chave","dependencias","dep","prefixo","actions","paper","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport moment from 'moment'\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport red from '@material-ui/core/colors/red';\r\nimport purple from '@material-ui/core/colors/purple';\r\nimport ConfirmationDialogRaw from './ConfirmationDialogRaw';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport SimpleExpansionPanel from './cardDetails/cardDetails'\r\nimport { Menu, MenuItem } from '@material-ui/core';\r\n\r\n\r\nconst styles = theme => ({\r\n  card:{ \r\n    width : '100%' ,\r\n    marginTop:  theme.spacing.unit,\r\n\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n \r\n  blueAvatar: {\r\n    margin: 10,\r\n    backgroundColor: blue[800],\r\n\r\n  },\r\n  cardFuncionariosEnvolvidos: {\r\n    display: 'flex',\r\n\r\n  },\r\n  tipoEvento: {\r\n    display: 'flex',\r\n  },\r\n  tipoEventoColor1:{ margin: '10px 10px 0px 10px',\r\n  padding: 10,\r\n  backgroundColor: red[800],},\r\n\r\n  tipoEventoColor2:{ margin: '10px 10px 0px 10px',\r\n  padding: 10,\r\n  backgroundColor: purple[800],},\r\n\r\n  tipoEventoColorBlue: {\r\n    margin: '10px 10px 0px 10px',\r\n    padding: 10,\r\n    backgroundColor: blue[800],\r\n  },\r\n  tipoEventoTitle: {\r\n    marginTop: 13,\r\n  },\r\n\r\n  cardHeader: {\r\n    margin: '0px 16px 0px 0px',\r\n    padding: 8,\r\n  },\r\n  smallAvatar: {\r\n    width: 25,\r\n    height: 25,\r\n    margin: 5,\r\n  },\r\n});\r\n\r\n\r\nclass EventCard extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {  \r\n      anchorEl: null,  \r\n      expanded: false,\r\n      open: false,\r\n      \r\n      };\r\n\r\n    this.excluir = this.excluir.bind()\r\n  }\r\n  handleExpandClick = () => {\r\n    this.setState(state => ({ expanded: !state.expanded }));\r\n  };\r\n\r\n  handleClick = event => {\r\n    this.setState({ anchorEl: event.currentTarget });\r\n \r\n  };\r\n\r\n  handleOpenDialogExcluir = ()=>{\r\n\r\n    this.setState({ open: !this.state.open });\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    const {evento , setEvento, myCallbackOpenDialog } = this.props\r\n    myCallbackOpenDialog(true)\r\n    setEvento(evento)\r\n  };\r\n \r\n\r\n  excluir = (event) =>{\r\n    event.preventDefault();\r\n\r\n    let {evento, empresa } = this.props\r\n    evento.dt_delete = new Date()\r\n   \r\n    const data = {evento: evento, empresa:empresa }\r\n\r\n    fetch(`https://uce.intranet.bb.com.br/api-timeline/v1/eventos`, {\r\n      method: \"PUT\",\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        \"x-access-token\": window.sessionStorage.token,\r\n        'Accept': 'application/json, text/plain, */*',\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(response => response.json())\r\n      \r\n      .then(data => {\r\n\r\n        this.props.getEventos(empresa)\r\n      }).then(\r\n        this.handleExpandClick()\r\n      )\r\n      .catch(function (err) { console.error(err); });\r\n \r\n  }\r\n\r\n  render() {\r\n    const { anchorEl } = this.state;\r\n    const { classes, evento } = this.props;\r\n    const open = Boolean(anchorEl);\r\n    \r\n    return (\r\n      <Fragment>\r\n      <Card className={classes.card}  > \r\n        <div className={classes.tipoEvento} >\r\n          <div className={classes.tipoEventoColor1}> </div>\r\n          <Typography variant=\"caption\" className={classes.tipoEventoTitle}  >\r\n            {evento.tipo_envolvimento_descricao}\r\n          </Typography>\r\n        </div>\r\n\r\n        <CardHeader className={classes.cardHeader}\r\n\r\n        /*  avatar={\r\n            <Avatar className={classes.blueAvatar} src={src} >\r\n              UCE\r\n            </Avatar>\r\n          }*/\r\n          action={\r\n            <IconButton   aria-label=\"More\"\r\n            aria-owns={open ? 'long-menu' : undefined}\r\n            aria-haspopup=\"true\"\r\n            onClick={this.handleClick}\r\n             >\r\n              <MoreVertIcon />\r\n            </IconButton>\r\n          }\r\n \r\n\r\n         title={evento.empresas?evento.empresas[0].nome:''}\r\n          subheader={moment(evento.dt_evento).locale('pt-BR').format('LLLL')  }\r\n\r\n        />\r\n\r\n        <CardContent>\r\n          <Typography component=\"p\">\r\n            {evento.descricao}\r\n          </Typography>\r\n          <div>\r\n           \r\n            <div className={classes.cardFuncionariosEnvolvidos}>\r\n\r\n              {evento.funcionarios?evento.funcionarios.map(funci => {\r\n                return   < Avatar  key={funci.chave} className={ classes.smallAvatar } src={`https://humanograma.intranet.bb.com.br/avatar/${funci.chave}`} >\r\n                   \r\n                </Avatar>\r\n\r\n              }):''}\r\n          \r\n          </div>\r\n  \r\n          <div className={classes.cardFuncionariosEnvolvidos}>\r\n              <Typography variant=\"caption\" className={classes.tipoEventoTitle}  >\r\n                DependÃªncias:  {evento.dependencias?evento.dependencias.map(dep => {\r\n                            return   ` ${dep.prefixo}, `\r\n\r\n                          }):''}\r\n              </Typography>\r\n          \r\n          </div>\r\n          </div>\r\n        </CardContent>\r\n        <CardActions className={classes.actions} disableActionSpacing>\r\n          <SimpleExpansionPanel evento={evento}  />\r\n        </CardActions>\r\n\r\n\r\n        <Collapse in={this.state.expanded} timeout=\"auto\" unmountOnExit>\r\n          <CardContent>\r\n            \r\n          </CardContent>\r\n        </Collapse>\r\n        \r\n      </Card>\r\n\r\n<Menu\r\n  id=\"long-menu\"\r\n  anchorEl={anchorEl}\r\n  open={open}\r\n  onClose={this.handleClose}\r\n  >\r\n  \r\n  <MenuItem   onClick={this.handleOpen}>\r\n    Editar\r\n  </MenuItem>\r\n  <MenuItem   onClick={this.handleOpenDialogExcluir}>\r\n    Excluir\r\n  </MenuItem>\r\n \r\n</Menu> \r\n\r\n  <ConfirmationDialogRaw\r\n                        classes={{\r\n                            paper: classes.paper,\r\n                        }}\r\n                        handleOpenDialogExcluir={this.handleOpenDialogExcluir}\r\n                        excluir={this.excluir}\r\n                        open={this.state.open}\r\n                      \r\n                        value={this.props.evento}\r\n                    />\r\n</Fragment>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nEventCard.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(EventCard);\r\n"]},"metadata":{},"sourceType":"module"}