{"ast":null,"code":"import _defineProperty from \"/Users/aylafernandes/Desktop/timeline/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"/Users/aylafernandes/Desktop/timeline/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/aylafernandes/Desktop/timeline/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/aylafernandes/Desktop/timeline/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/aylafernandes/Desktop/timeline/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/aylafernandes/Desktop/timeline/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/aylafernandes/Desktop/timeline/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/aylafernandes/Desktop/timeline/src/components/layouts/Header.js\";\nimport React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport { Route, Link } from 'react-router-dom';\nimport Dashboard from './Dashboard';\nimport Kanban from './Kanban';\nimport FormEvent from './FormEvent';\nimport Busca from './busca/Busca';\nimport FormControl from '@material-ui/core/FormControl';\nimport logo from '../../bancodobrasil.png';\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport CardGrid from './CardGrid'; //https://uce.intranet.bb.com.br/timeline/?visao=1&bloco_origem=4&cnpj=05.721.752/0001-65&cod_pais=23&mci=509277368&nm_prefixo_redex=FRANKFURT%20ALEMANHA&nome=ADIDAS%20AG&pais=ALEMANHA&prefixo_redex=720&tabela_origem=2\n\nvar theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#1565c0',\n      dark: '#0d47a1'\n    }\n  }\n});\nvar counterDep = 0;\n\nfunction createDependencia(nome, uor, envolvimento, prefixo) {\n  counterDep += 1;\n  return {\n    id: counterDep,\n    nome: nome,\n    uor: uor,\n    envolvimento: envolvimento,\n    prefixo: prefixo\n  };\n}\n\nvar counter = 0;\n\nfunction createFuncionario(nome, chave, envolvimento, prefixo) {\n  counter += 1;\n  return {\n    id: counter,\n    nome: nome,\n    chave: chave,\n    envolvimento: envolvimento,\n    prefixo: prefixo\n  };\n}\n\nvar counterEmp = 0;\n\nfunction createEmpresa(nome, mci, cod_pais, pais, tabela_origem, bloco_origem, envolvimento) {\n  counterEmp += 1;\n  return {\n    id: counterEmp,\n    nome: nome,\n    mci: mci,\n    cod_pais: cod_pais,\n    pais: pais,\n    tabela_origem: tabela_origem,\n    bloco_origem: bloco_origem,\n    envolvimento: envolvimento\n  };\n}\n\nfunction TabContainer(props) {\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, props.children);\n}\n\nvar Header =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Header, _React$Component);\n\n  function Header(props) {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Header).call(this, props));\n\n    _this.setSelectedDate = function (date) {\n      _this.setState({\n        dt_evento: date\n      });\n    };\n\n    _this.myCallbackBusca = function (empresaChild) {\n      salvarUltimaPesaquisaCache(1, empresaChild);\n\n      _this.setState({\n        empresa: empresaChild\n      });\n\n      _this.getEventos(empresaChild);\n    };\n\n    _this.handleChangeTab = function (event, value) {\n      _this.setState({\n        value: value\n      });\n    };\n\n    _this.myCallbackOpenDialog = function (open) {\n      _this.setState({\n        open: open\n      });\n    };\n\n    _this.setEventos = function (data) {\n      _this.setState({\n        eventos: data\n      });\n    };\n\n    _this.clearEvento = function () {\n      _this.setState({\n        id: undefined\n      });\n\n      _this.setState({\n        descricao: ''\n      });\n\n      _this.setState({\n        dt_create: new Date()\n      });\n\n      _this.setState({\n        dt_evento: new Date()\n      });\n\n      _this.setState({\n        tipoEvento: 1\n      });\n\n      _this.setState({\n        status: 1\n      });\n\n      _this.setState({\n        dependencias: []\n      });\n\n      _this.setState({\n        funcionarios: []\n      });\n\n      _this.setState({\n        empresas: []\n      });\n    };\n\n    _this.setEvento = function (data) {\n      _this.setState({\n        id: data.id\n      });\n\n      _this.setState({\n        descricao: data.descricao\n      });\n\n      _this.setState({\n        dt_create: data.dt_create\n      });\n\n      _this.setState({\n        dt_evento: data.dt_evento\n      });\n\n      _this.setState({\n        tipoEvento: data.tipo_envolvimento_id\n      });\n\n      _this.setState({\n        status: data.status\n      });\n\n      console.log(data.dependencias);\n\n      _this.setState({\n        dependencias: data.dependencias\n      });\n\n      _this.setState({\n        funcionarios: data.funcionarios\n      });\n\n      _this.setState({\n        empresas: data.empresas\n      });\n    };\n\n    _this.deleteItemListbyId = function (id, target) {\n      switch (target) {\n        case 'empresa':\n          var empresas = _this.state.empresas;\n\n          _this.setState({\n            empresas: empresas.filter(function (item) {\n              return item.id != id;\n            })\n          });\n\n          break;\n\n        case 'funcionario':\n          var funcionarios = _this.state.funcionarios;\n\n          _this.setState({\n            funcionarios: funcionarios.filter(function (item) {\n              return item.id != id;\n            })\n          });\n\n          break;\n\n        case 'dependencia':\n          var dependencias = _this.state.dependencias;\n\n          _this.setState({\n            dependencias: dependencias.filter(function (item) {\n              return item.id != id;\n            })\n          });\n\n          break;\n\n        default:\n          break;\n      }\n    };\n\n    _this.myCallbackDependencia = function (dependenciaChild) {\n      _this.setState({\n        dependencias: _toConsumableArray(_this.state.dependencias).concat([createDependencia(dependenciaChild.nome, dependenciaChild.uor, _this.state.envolvimentoDependencia, dependenciaChild.prefixo)])\n      });\n    };\n\n    _this.myCallback = function (funcionariosChild) {\n      _this.setState({\n        funcionarios: _toConsumableArray(_this.state.funcionarios).concat([createFuncionario(funcionariosChild.nome, funcionariosChild.chave, _this.state.envolvimento, funcionariosChild.prefixo)])\n      });\n    };\n\n    _this.myCallbackEmpresas = function (empresaDataChild) {\n      console.log(empresaDataChild);\n\n      _this.setState({\n        empresas: _toConsumableArray(_this.state.empresas).concat([createEmpresa(empresaDataChild.nome, empresaDataChild.mci, empresaDataChild.cod_pais, empresaDataChild.pais, empresaDataChild.tabela_origem, empresaDataChild.bloco_origem, _this.state.envolvimentoEmpresa)])\n      });\n    };\n\n    _this.handleChange = function (input) {\n      return function (e) {\n        _this.setState(_defineProperty({}, input, e.target.value));\n      };\n    };\n\n    _this.handleChangeInput = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n\n      _this.handleChangeSelect(event.target.value);\n    };\n\n    _this.getEventos = function (empresa) {\n      fetch(_this.state.urlEventos, {\n        method: 'POST',\n        body: JSON.stringify({\n          empresa: empresa\n        }),\n        headers: {\n          'x-access-token': window.sessionStorage.token,\n          Accept: 'application/json, text/plain, */*',\n          'Content-Type': 'application/json'\n        }\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        return _this.setState({\n          eventos: data\n        });\n      }).catch(function (err) {\n        console.error(err);\n      });\n    };\n\n    _this.state = {\n      value: 0,\n      open: false,\n      visao: 1,\n      url: 'https://uce.intranet.bb.com.br/api-timeline/v1/empresas/',\n      urlEventos: 'https://uce.intranet.bb.com.br/api-timeline/v1/eventos/empresa/',\n      eventos: [],\n      empresa: window.sessionStorage.objetoBusca ? JSON.parse(window.sessionStorage.objetoBusca) : {},\n      descricao: '',\n      currentLocale: 'pt-br',\n      dt_evento: new Date(),\n      funcionario: {},\n      funcionarios: [],\n      envolvimento: 1,\n      empresas: [],\n      envolvimentoEmpresa: 1,\n      envolvimentoParticipantesEmpresa: 1,\n      dependencias: [],\n      envolvimentoDependencia: 1,\n      tipoEvento: 1,\n      status: 1,\n      comentario: '',\n      id: undefined\n    };\n    return _this;\n  }\n\n  _createClass(Header, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.setState({\n        visao: window.sessionStorage.visao || 1\n      });\n      var empresa = window.sessionStorage.objetoBusca ? JSON.parse(window.sessionStorage.objetoBusca) : {};\n      var params = new URLSearchParams(this.props.location.search);\n\n      if (parseInt(params.get('visao'), 10)) {\n        empresa = this.handleParams(params);\n      }\n\n      this.setState();\n      this.getEventos(empresa);\n    }\n  }, {\n    key: \"handleParams\",\n    value: function handleParams(params) {\n      this.handleChangeSelect(1);\n      var empresaParams = createEmpresa(params.get('nome'), parseInt(params.get('mci'), 10), parseInt(params.get('cod_pais'), 10), params.get('pais'), parseInt(params.get('tabela_origem')), parseInt(params.get('bloco_origem')));\n      return empresaParams;\n    }\n  }, {\n    key: \"handleChangeSelect\",\n    value: function handleChangeSelect(option) {\n      switch (option) {\n        case 1:\n          this.setState({\n            url: 'https://uce.intranet.bb.com.br/api-timeline/v1/empresas/',\n            urlEventos: 'https://uce.intranet.bb.com.br/api-timeline/v1/eventos/empresa/'\n          });\n          break;\n\n        case 2:\n          this.setState({\n            url: 'https://uce.intranet.bb.com.br/api-timeline/v1/dependencias/',\n            urlEventos: 'https://uce.intranet.bb.com.br/api-timeline/v1/eventos/dependencias/'\n          });\n          break;\n\n        case 3:\n          this.setState({\n            url: 'https://uce.intranet.bb.com.br/api-timeline/v1/funcionarios/',\n            urlEventos: 'https://uce.intranet.bb.com.br/api-timeline/v1/eventos/funcionarios/'\n          });\n          break;\n\n        default:\n          this.setState({\n            url: 'https://uce.intranet.bb.com.br/api-timeline/v1/empresa/',\n            urlEventos: 'https://uce.intranet.bb.com.br/api-timeline/v1/eventos/'\n          });\n          break;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var classes = this.props.classes;\n      var _this$state = this.state,\n          value = _this$state.value,\n          url = _this$state.url,\n          eventos = _this$state.eventos,\n          currentLocale = _this$state.currentLocale;\n      var _this$state2 = this.state,\n          descricao = _this$state2.descricao,\n          tipoEvento = _this$state2.tipoEvento,\n          status = _this$state2.status,\n          dt_evento = _this$state2.dt_evento,\n          envolvimento = _this$state2.envolvimento,\n          empresas = _this$state2.empresas,\n          envolvimentoEmpresa = _this$state2.envolvimentoEmpresa,\n          dependencias = _this$state2.dependencias,\n          envolvimentoDependencia = _this$state2.envolvimentoDependencia,\n          empresa = _this$state2.empresa,\n          funcionarios = _this$state2.funcionarios,\n          id = _this$state2.id;\n      var evento = {\n        descricao: descricao,\n        tipoEvento: tipoEvento,\n        status: status,\n        dt_evento: dt_evento,\n        envolvimento: envolvimento,\n        empresas: empresas,\n        envolvimentoEmpresa: envolvimentoEmpresa,\n        dependencias: dependencias,\n        envolvimentoDependencia: envolvimentoDependencia,\n        funcionarios: funcionarios,\n        id: id\n      };\n      var ScrollableTabsButtonAuto = React.createElement(\"div\", {\n        className: classes.rootTabs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        value: value,\n        onChange: this.handleChangeTab,\n        indicatorColor: \"primary\",\n        textColor: \"primary\",\n        scrollable: true,\n        scrollButtons: \"auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349\n        },\n        __self: this\n      }, React.createElement(Tab, {\n        label: \"Timeline\",\n        component: Link,\n        to: \"/timeline/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357\n        },\n        __self: this\n      }), React.createElement(Tab, {\n        label: \"Dashboard\",\n        component: Link,\n        to: \"/timeline/dashboard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }), React.createElement(Tab, {\n        label: \"Kanban\",\n        component: Link,\n        to: \"/timeline/kanban\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }), \" />\"), React.createElement(TabContainer, {\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.dadosEmpresa,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }, this.state.empresa.nome), React.createElement(Typography, {\n        variant: \"subtitle1\",\n        color: \"textSecondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364\n        },\n        __self: this\n      }, this.state.empresa.pais)), React.createElement(Route, {\n        path: \"/timeline/home\",\n        render: function render(props) {\n          return React.createElement(CardGrid, Object.assign({\n            empresa: empresa,\n            eventos: eventos,\n            getEventos: _this2.getEventos,\n            myCallbackOpenDialog: _this2.myCallbackOpenDialog,\n            setEvento: _this2.setEvento\n          }, props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 371\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/timeline/dashboard\",\n        component: Dashboard,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      })));\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387\n        },\n        __self: this\n      }, React.createElement(MuiThemeProvider, {\n        theme: theme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388\n        },\n        __self: this\n      }, React.createElement(AppBar, {\n        position: \"static\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        style: {\n          margin: 8\n        },\n        src: logo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        variant: \"h6\",\n        color: \"inherit\",\n        noWrap: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }, \"UCE Timeline\")), React.createElement(Toolbar, {\n        className: classes.subBar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        fullWidth: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      }, React.createElement(Busca, {\n        url: url,\n        addSuggestion: this.myCallbackBusca,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415\n        },\n        __self: this\n      }))), ScrollableTabsButtonAuto), React.createElement(FormEvent, {\n        open: this.state.open,\n        myCallbackOpenDialog: this.myCallbackOpenDialog,\n        myCallbackDependencia: this.myCallbackDependencia,\n        myCallback: this.myCallback,\n        myCallbackEmpresas: this.myCallbackEmpresas,\n        deleteItemListbyId: this.deleteItemListbyId,\n        setSelectedDate: this.setSelectedDate,\n        empresa: empresa,\n        empresas: this.state.empresas,\n        funcionarios: this.state.funcionarios,\n        dependencias: this.state.dependencias,\n        clearEvento: this.clearEvento,\n        handleChange: this.handleChange,\n        getEventos: this.getEventos,\n        evento: evento,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Header;\n}(React.Component);\n\nfunction salvarUltimaPesaquisaCache(visao, objeto) {\n  window.sessionStorage.visao = visao;\n  window.sessionStorage.objetoBusca = JSON.stringify(objeto);\n}\n\nvar styles = function styles(theme) {\n  return {\n    rootTabs: {\n      backgroundColor: theme.palette.background.paper\n    },\n    textField: {\n      margin: theme.spacing.unit\n    },\n    cssUnderline: {\n      '&:after': {\n        borderBottomColor: 'white'\n      }\n    },\n    subBar: {\n      backgroundColor: '#0d47a1'\n    },\n    formControl: {\n      width: 200,\n      margin: theme.spacing.unit\n    },\n    dadosEmpresa: {\n      padding: theme.spacing.unit\n    }\n  };\n};\n\nHeader.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Header);","map":{"version":3,"sources":["/Users/aylafernandes/Desktop/timeline/src/components/layouts/Header.js"],"names":["React","AppBar","Toolbar","PropTypes","withStyles","Typography","Tabs","Tab","Route","Link","Dashboard","Kanban","FormEvent","Busca","FormControl","logo","MuiThemeProvider","createMuiTheme","CardGrid","theme","palette","primary","main","dark","counterDep","createDependencia","nome","uor","envolvimento","prefixo","id","counter","createFuncionario","chave","counterEmp","createEmpresa","mci","cod_pais","pais","tabela_origem","bloco_origem","TabContainer","props","children","Header","setSelectedDate","date","setState","dt_evento","myCallbackBusca","empresaChild","salvarUltimaPesaquisaCache","empresa","getEventos","handleChangeTab","event","value","myCallbackOpenDialog","open","setEventos","data","eventos","clearEvento","undefined","descricao","dt_create","Date","tipoEvento","status","dependencias","funcionarios","empresas","setEvento","tipo_envolvimento_id","console","log","deleteItemListbyId","target","state","filter","item","myCallbackDependencia","dependenciaChild","envolvimentoDependencia","myCallback","funcionariosChild","myCallbackEmpresas","empresaDataChild","envolvimentoEmpresa","handleChange","input","e","handleChangeInput","name","handleChangeSelect","fetch","urlEventos","method","body","JSON","stringify","headers","window","sessionStorage","token","Accept","then","response","json","catch","err","error","visao","url","objetoBusca","parse","currentLocale","funcionario","envolvimentoParticipantesEmpresa","comentario","params","URLSearchParams","location","search","parseInt","get","handleParams","empresaParams","option","classes","evento","ScrollableTabsButtonAuto","rootTabs","dadosEmpresa","margin","subBar","Component","objeto","styles","backgroundColor","background","paper","textField","spacing","unit","cssUnderline","borderBottomColor","formControl","width","padding","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport { Route, Link } from 'react-router-dom';\r\nimport Dashboard from './Dashboard';\r\nimport Kanban from './Kanban';\r\nimport FormEvent from './FormEvent';\r\nimport Busca from './busca/Busca';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport logo from '../../bancodobrasil.png';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport CardGrid from './CardGrid';\r\n//https://uce.intranet.bb.com.br/timeline/?visao=1&bloco_origem=4&cnpj=05.721.752/0001-65&cod_pais=23&mci=509277368&nm_prefixo_redex=FRANKFURT%20ALEMANHA&nome=ADIDAS%20AG&pais=ALEMANHA&prefixo_redex=720&tabela_origem=2\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#1565c0',\r\n      dark: '#0d47a1'\r\n    }\r\n  }\r\n});\r\n\r\nlet counterDep = 0;\r\nfunction createDependencia(nome, uor, envolvimento, prefixo) {\r\n  counterDep += 1;\r\n  return { id: counterDep, nome, uor, envolvimento, prefixo };\r\n}\r\n\r\nlet counter = 0;\r\nfunction createFuncionario(nome, chave, envolvimento, prefixo) {\r\n  counter += 1;\r\n  return { id: counter, nome, chave, envolvimento, prefixo };\r\n}\r\n\r\nlet counterEmp = 0;\r\nfunction createEmpresa(\r\n  nome,\r\n  mci,\r\n  cod_pais,\r\n  pais,\r\n  tabela_origem,\r\n  bloco_origem,\r\n  envolvimento\r\n) {\r\n  counterEmp += 1;\r\n  return {\r\n    id: counterEmp,\r\n    nome,\r\n    mci,\r\n    cod_pais,\r\n    pais,\r\n    tabela_origem,\r\n    bloco_origem,\r\n    envolvimento\r\n  };\r\n}\r\n\r\nfunction TabContainer(props) {\r\n  return <React.Fragment>{props.children}</React.Fragment>;\r\n}\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: 0,\r\n      open: false,\r\n      visao: 1,\r\n      url: 'https://uce.intranet.bb.com.br/api-timeline/v1/empresas/',\r\n      urlEventos:\r\n        'https://uce.intranet.bb.com.br/api-timeline/v1/eventos/empresa/',\r\n      eventos: [],\r\n      empresa: window.sessionStorage.objetoBusca\r\n        ? JSON.parse(window.sessionStorage.objetoBusca)\r\n        : {},\r\n      descricao: '',\r\n      currentLocale: 'pt-br',\r\n      dt_evento: new Date(),\r\n      funcionario: {},\r\n      funcionarios: [],\r\n      envolvimento: 1,\r\n      empresas: [],\r\n      envolvimentoEmpresa: 1,\r\n      envolvimentoParticipantesEmpresa: 1,\r\n      dependencias: [],\r\n      envolvimentoDependencia: 1,\r\n      tipoEvento: 1,\r\n      status: 1,\r\n      comentario: '',\r\n      id: undefined\r\n    };\r\n  }\r\n\r\n  setSelectedDate = date => {\r\n    this.setState({ dt_evento: date });\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.setState({ visao: window.sessionStorage.visao || 1 });\r\n    let empresa = window.sessionStorage.objetoBusca\r\n      ? JSON.parse(window.sessionStorage.objetoBusca)\r\n      : {};\r\n    let params = new URLSearchParams(this.props.location.search);\r\n    if (parseInt(params.get('visao'), 10)) {\r\n      empresa = this.handleParams(params);\r\n    }\r\n\r\n    this.setState();\r\n\r\n    this.getEventos(empresa);\r\n  }\r\n\r\n  handleParams(params) {\r\n    this.handleChangeSelect(1);\r\n    let empresaParams = createEmpresa(\r\n      params.get('nome'),\r\n      parseInt(params.get('mci'), 10),\r\n      parseInt(params.get('cod_pais'), 10),\r\n      params.get('pais'),\r\n      parseInt(params.get('tabela_origem')),\r\n      parseInt(params.get('bloco_origem'))\r\n    );\r\n\r\n    return empresaParams;\r\n  }\r\n\r\n  handleChangeSelect(option) {\r\n    switch (option) {\r\n      case 1:\r\n        this.setState({\r\n          url: 'https://uce.intranet.bb.com.br/api-timeline/v1/empresas/',\r\n          urlEventos:\r\n            'https://uce.intranet.bb.com.br/api-timeline/v1/eventos/empresa/'\r\n        });\r\n        break;\r\n      case 2:\r\n        this.setState({\r\n          url: 'https://uce.intranet.bb.com.br/api-timeline/v1/dependencias/',\r\n          urlEventos:\r\n            'https://uce.intranet.bb.com.br/api-timeline/v1/eventos/dependencias/'\r\n        });\r\n        break;\r\n      case 3:\r\n        this.setState({\r\n          url: 'https://uce.intranet.bb.com.br/api-timeline/v1/funcionarios/',\r\n          urlEventos:\r\n            'https://uce.intranet.bb.com.br/api-timeline/v1/eventos/funcionarios/'\r\n        });\r\n        break;\r\n      default:\r\n        this.setState({\r\n          url: 'https://uce.intranet.bb.com.br/api-timeline/v1/empresa/',\r\n          urlEventos: 'https://uce.intranet.bb.com.br/api-timeline/v1/eventos/'\r\n        });\r\n        break;\r\n    }\r\n  }\r\n\r\n  myCallbackBusca = empresaChild => {\r\n    salvarUltimaPesaquisaCache(1, empresaChild);\r\n    this.setState({ empresa: empresaChild });\r\n\r\n    this.getEventos(empresaChild);\r\n  };\r\n  handleChangeTab = (event, value) => {\r\n    this.setState({ value: value });\r\n  };\r\n\r\n  myCallbackOpenDialog = open => {\r\n    this.setState({ open: open });\r\n  };\r\n\r\n  setEventos = data => {\r\n    this.setState({ eventos: data });\r\n  };\r\n\r\n  clearEvento = () => {\r\n    this.setState({ id: undefined });\r\n    this.setState({ descricao: '' });\r\n    this.setState({ dt_create: new Date() });\r\n    this.setState({ dt_evento: new Date() });\r\n    this.setState({ tipoEvento: 1 });\r\n    this.setState({ status: 1 });\r\n    this.setState({ dependencias: [] });\r\n    this.setState({ funcionarios: [] });\r\n    this.setState({ empresas: [] });\r\n  };\r\n  setEvento = data => {\r\n    this.setState({ id: data.id });\r\n    this.setState({ descricao: data.descricao });\r\n    this.setState({ dt_create: data.dt_create });\r\n    this.setState({ dt_evento: data.dt_evento });\r\n    this.setState({ tipoEvento: data.tipo_envolvimento_id });\r\n    this.setState({ status: data.status });\r\n\r\n    console.log(data.dependencias);\r\n\r\n    this.setState({ dependencias: data.dependencias });\r\n    this.setState({ funcionarios: data.funcionarios });\r\n    this.setState({ empresas: data.empresas });\r\n  };\r\n\r\n  deleteItemListbyId = (id, target) => {\r\n    switch (target) {\r\n      case 'empresa':\r\n        const { empresas } = this.state;\r\n        this.setState({\r\n          empresas: empresas.filter(item => {\r\n            return item.id != id;\r\n          })\r\n        });\r\n\r\n        break;\r\n      case 'funcionario':\r\n        const { funcionarios } = this.state;\r\n        this.setState({\r\n          funcionarios: funcionarios.filter(item => {\r\n            return item.id != id;\r\n          })\r\n        });\r\n\r\n        break;\r\n      case 'dependencia':\r\n        const { dependencias } = this.state;\r\n        this.setState({\r\n          dependencias: dependencias.filter(item => {\r\n            return item.id != id;\r\n          })\r\n        });\r\n\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  myCallbackDependencia = dependenciaChild => {\r\n    this.setState({\r\n      dependencias: [\r\n        ...this.state.dependencias,\r\n        createDependencia(\r\n          dependenciaChild.nome,\r\n          dependenciaChild.uor,\r\n          this.state.envolvimentoDependencia,\r\n          dependenciaChild.prefixo\r\n        )\r\n      ]\r\n    });\r\n  };\r\n  myCallback = funcionariosChild => {\r\n    this.setState({\r\n      funcionarios: [\r\n        ...this.state.funcionarios,\r\n        createFuncionario(\r\n          funcionariosChild.nome,\r\n          funcionariosChild.chave,\r\n          this.state.envolvimento,\r\n          funcionariosChild.prefixo\r\n        )\r\n      ]\r\n    });\r\n  };\r\n\r\n  myCallbackEmpresas = empresaDataChild => {\r\n    console.log(empresaDataChild);\r\n    this.setState({\r\n      empresas: [\r\n        ...this.state.empresas,\r\n        createEmpresa(\r\n          empresaDataChild.nome,\r\n          empresaDataChild.mci,\r\n          empresaDataChild.cod_pais,\r\n          empresaDataChild.pais,\r\n          empresaDataChild.tabela_origem,\r\n          empresaDataChild.bloco_origem,\r\n          this.state.envolvimentoEmpresa\r\n        )\r\n      ]\r\n    });\r\n  };\r\n\r\n  handleChange = input => e => {\r\n    this.setState({ [input]: e.target.value });\r\n  };\r\n\r\n  handleChangeInput = event => {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n    this.handleChangeSelect(event.target.value);\r\n  };\r\n\r\n  getEventos = empresa => {\r\n    fetch(this.state.urlEventos, {\r\n      method: 'POST',\r\n      body: JSON.stringify({ empresa: empresa }),\r\n      headers: {\r\n        'x-access-token': window.sessionStorage.token,\r\n        Accept: 'application/json, text/plain, */*',\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => this.setState({ eventos: data }))\r\n      .catch(function(err) {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { value, url, eventos, currentLocale } = this.state;\r\n    const {\r\n      descricao,\r\n      tipoEvento,\r\n      status,\r\n      dt_evento,\r\n      envolvimento,\r\n      empresas,\r\n      envolvimentoEmpresa,\r\n      dependencias,\r\n      envolvimentoDependencia,\r\n      empresa,\r\n      funcionarios,\r\n      id\r\n    } = this.state;\r\n    const evento = {\r\n      descricao,\r\n      tipoEvento,\r\n      status,\r\n      dt_evento,\r\n      envolvimento,\r\n      empresas,\r\n      envolvimentoEmpresa,\r\n      dependencias,\r\n      envolvimentoDependencia,\r\n      funcionarios,\r\n      id\r\n    };\r\n\r\n    const ScrollableTabsButtonAuto = (\r\n      <div className={classes.rootTabs}>\r\n        <Tabs\r\n          value={value}\r\n          onChange={this.handleChangeTab}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          scrollable\r\n          scrollButtons=\"auto\"\r\n        >\r\n          <Tab label=\"Timeline\" component={Link} to=\"/timeline/home\" />\r\n          <Tab label=\"Dashboard\" component={Link} to=\"/timeline/dashboard\" />\r\n          <Tab label=\"Kanban\" component={Link} to=\"/timeline/kanban\" /> />\r\n        </Tabs>\r\n        <TabContainer fullWidth>\r\n          <div className={classes.dadosEmpresa}>\r\n            <Typography variant=\"h5\">{this.state.empresa.nome}</Typography>\r\n            <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n              {this.state.empresa.pais}\r\n            </Typography>\r\n          </div>\r\n          <Route\r\n            path=\"/timeline/home\"\r\n            render={props => (\r\n              <CardGrid\r\n                empresa={empresa}\r\n                eventos={eventos}\r\n                getEventos={this.getEventos}\r\n                myCallbackOpenDialog={this.myCallbackOpenDialog}\r\n                setEvento={this.setEvento}\r\n                {...props}\r\n              />\r\n            )}\r\n          />\r\n          <Route path=\"/timeline/dashboard\" component={Dashboard} />\r\n        </TabContainer>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <MuiThemeProvider theme={theme}>\r\n          <AppBar position=\"static\" color=\"primary\">\r\n            <Toolbar>\r\n              <img style={{ margin: 8 }} src={logo} />\r\n              <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n                UCE Timeline\r\n              </Typography>\r\n            </Toolbar>\r\n            <Toolbar className={classes.subBar}>\r\n              {/*  <FormControl fullWidth  className={classes.formControl}   >\r\n                            <InputLabel htmlFor=\"visao-simple\">Visão</InputLabel>\r\n                            <Select\r\n                                value={this.state.visao}\r\n                                onChange={this.handleChangeInput}\r\n                                inputProps={{\r\n                                name: 'visao',\r\n                                id: 'visao-simple',\r\n                                style: {\r\n                                    width: 200,\r\n                                }\r\n                                }} >\r\n                                <MenuItem value={1}>Empresa</MenuItem>\r\n                                <MenuItem value={2}>Dependências</MenuItem>\r\n                                <MenuItem value={3}>Funcionários</MenuItem>\r\n                            </Select>\r\n                            </FormControl> */}\r\n              <FormControl fullWidth>\r\n                <Busca url={url} addSuggestion={this.myCallbackBusca} />\r\n              </FormControl>\r\n            </Toolbar>\r\n            {ScrollableTabsButtonAuto}\r\n          </AppBar>\r\n\r\n          <FormEvent\r\n            open={this.state.open}\r\n            myCallbackOpenDialog={this.myCallbackOpenDialog}\r\n            myCallbackDependencia={this.myCallbackDependencia}\r\n            myCallback={this.myCallback}\r\n            myCallbackEmpresas={this.myCallbackEmpresas}\r\n            deleteItemListbyId={this.deleteItemListbyId}\r\n            setSelectedDate={this.setSelectedDate}\r\n            empresa={empresa}\r\n            empresas={this.state.empresas}\r\n            funcionarios={this.state.funcionarios}\r\n            dependencias={this.state.dependencias}\r\n            clearEvento={this.clearEvento}\r\n            handleChange={this.handleChange}\r\n            getEventos={this.getEventos}\r\n            evento={evento}\r\n          />\r\n        </MuiThemeProvider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nfunction salvarUltimaPesaquisaCache(visao, objeto) {\r\n  window.sessionStorage.visao = visao;\r\n  window.sessionStorage.objetoBusca = JSON.stringify(objeto);\r\n}\r\n\r\nconst styles = theme => ({\r\n  rootTabs: {\r\n    backgroundColor: theme.palette.background.paper\r\n  },\r\n  textField: {\r\n    margin: theme.spacing.unit\r\n  },\r\n\r\n  cssUnderline: {\r\n    '&:after': {\r\n      borderBottomColor: 'white'\r\n    }\r\n  },\r\n  subBar: {\r\n    backgroundColor: '#0d47a1'\r\n  },\r\n\r\n  formControl: {\r\n    width: 200,\r\n    margin: theme.spacing.unit\r\n  },\r\n  dadosEmpresa: {\r\n    padding: theme.spacing.unit\r\n  }\r\n});\r\n\r\nHeader.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\nexport default withStyles(styles)(Header);\r\n"]},"metadata":{},"sourceType":"module"}